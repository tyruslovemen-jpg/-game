<!DOCTYPE html>
<html>
<head>
  <title>Maze of the Lost Key</title>
  <style>
    body { background: black; color: white; text-align: center; }
    canvas { background: #222; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Maze of the Lost Key</h1>
  <p>Use arrow keys. Get the key, then reach the door.</p>
  <canvas id="game" width="400" height="400"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const tile = 40;
    let player = { x: 1, y: 1 };
    let key = { x: 5, y: 3 };
    let door = { x: 8, y: 8 };
    let hasKey = false;

    const maze = [
      "##########",
      "#        #",
      "# ###### #",
      "# #    # #",
      "# # ## # #",
      "# # ## # #",
      "# #    # #",
      "# ###### #",
      "#        #",
      "##########"
    ];

    function draw() {
      ctx.clearRect(0,0,400,400);

      for (let y=0; y<10; y++) {
        for (let x=0; x<10; x++) {
          if (maze[y][x] === "#") {
            ctx.fillStyle = "gray";
            ctx.fillRect(x*tile, y*tile, tile, tile);
          }
        }
      }

      // Key
      if (!hasKey) {
        ctx.fillStyle = "gold";
        ctx.fillRect(key.x*tile+10, key.y*tile+10, 20, 20);
      }

      // Door
      ctx.fillStyle = hasKey ? "green" : "red";
      ctx.fillRect(door.x*tile, door.y*tile, tile, tile);

      // Player
      ctx.fillStyle = "cyan";
      ctx.fillRect(player.x*tile+5, player.y*tile+5, 30, 30);
    }

    document.addEventListener("keydown", e => {
      let nx = player.x;
      let ny = player.y;

      if (e.key === "ArrowUp") ny--;
      if (e.key === "ArrowDown") ny++;
      if (e.key === "ArrowLeft") nx--;
      if (e.key === "ArrowRight") nx++;

      if (maze[ny][nx] !== "#") {
        player.x = nx;
        player.y = ny;
      }

      if (player.x === key.x && player.y === key.y) {
        hasKey = true;
        alert("You found the key!");
      }

      if (player.x === door.x && player.y === door.y && hasKey) {
        alert("ðŸŽ‰ You escaped the maze! ðŸŽ‰");
      }

      draw();
    });

    draw();
  </script>
</body>
</html>
